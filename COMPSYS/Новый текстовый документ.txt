#include "iostream"
#include "time.h"
#include <queue> 

using namespace std;

const int kol = 20;
const int mol = 20;

const int R = 50;
const int L = 6;
const int LK = 3;

int mas[1000];
queue<int> q;

int tacktsValue = 0;
int shortValue = 0;
int shortTime = 0;
int countEmpty = 0;

void init()
{
	tacktsValue = 0;
	shortValue = shortValue;
	shortTime = 0;
	countEmpty = countEmpty;
}

void showInfo()
{
	cout << "INFO" << endl;
	cout << "shortValue: " << shortValue << endl;
	cout << "countEmpty: " << countEmpty << endl;
	cout << "tacktsValue: " << tacktsValue << endl;
	cout << "shortTime: " << shortTime << endl;
	cout << "AVG: " << shortValue / (kol - countEmpty) << endl;
	cout << endl;

	init();
}

void SPT()
{
	for(int i = 0; i < kol; ++i)
	{
		if (mas[i] != 0)
		{
			tacktsValue++;
			if (mas[i] <= LK)
			{
				shortValue++;
				shortTime += mas[i];
				mas[i] = 0;
			}
			else
			{
				while (mas[i] >= LK)
				{
					tacktsValue++;
					mas[i] -= LK;
				}
			}
		}
		else
		{
			countEmpty++;
		}
	}
}

void RR()
{
	bool f = false;

	do
	{
		for (int i = 0; i < kol; i++)
		{
			if (mas[i] != 0)
			{
				tacktsValue++;
				f = true;
				if (mas[i] <= LK)
					mas[i] = 0;
				else
					mas[i] -= LK;
			}
		}
	}while(f);
}

int main() 
{
	srand(time(NULL));
	cout << "TEST " << rand() % 10 << endl;
	
	for (int i = R; i > 0; --i)
	{
		int r = rand() % 100;
		if (r > R)
		{
			int val = rand() % L + 1;
			q.push(val);
		}
		else
			q.push(0);
	}

	int i = 0;
	cout << "Queue:" << endl;
	while(!q.empty()) {
		cout << q.front() << " ";
        mas[i] = q.front();
		q.pop();
		i++;
    }
	cout << endl;

	cout << "SPT" << endl;
	SPT();
	showInfo();

	cout << "RR" << endl;
	RR();
	showInfo();

	system("pause");
	return 1;
}