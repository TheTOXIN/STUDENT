#include<iostream>
#include<conio.h>
#include<windows.h>

using namespace std;

struct node
{
	int num;
	node* next;
};

node* sortList(node* head, int num)
{
	node* pv = new node;

	pv->num = num;
	pv->next = 0;
	if (head)
	{
		node* cur = 0;
		if (head->num > pv->num)
		{
			pv->next = head;
			head = pv;
		}
		else
		{
			cur = head;
			while ((cur->next) && (cur->next->num < pv->num))
				cur = cur->next;
			pv->next = cur->next;
			cur->next = pv;
		}
	}
	else
		head = pv;
	return head;
}

void printList(node* head)
{
	node *pv = head;
	if (!pv)
		cout << "Список пуст \n";
	else
		while (pv)
		{
			cout << pv->num << endl;
			pv = pv->next;
		}
}

void main()
{
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);

	int n;
	node* head = 0;

	cout << "Введите кол-во элементов: ";
	cin >> n;
	cout << endl;

	int what;
	cout << "Введите элементы" << endl;
	for (int i = 1; i <= n; i++)
	{
		cin >> what;
		head = sortList(head, what);
	}
	
	cout << "Сортировка..." << endl;
	printList(head);
	
	system("pause");
}