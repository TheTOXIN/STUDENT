#include "stdafx.h"
#include <iostream>
#include <string>
#include <math.h>
#include <locale.h>
#include <windows.h>
#include <fstream>
#include <stack>

using namespace std;

stack <char> s;

void input()
{
	char in;
	int count = 0;
	while (true)
	{
		cin >> in;
		if (in == 'e')
			break;
		s.push(in);
		count++;
	}
	cout << endl;
}

void print()
{ 
	stack <char> tmp = s;
	cout << "Стек: " << endl;
	int count = tmp.size();
	for (int i = 0; i < count; i++)
	{
		char c = tmp.top();
		cout << c << endl;
		tmp.pop();
	}
	cout << endl;
}

void replace()
{
	stack <char> tmp1;
	stack <char> tmp2;

	char first;
	char last = s.top();
	s.pop();

	while (!s.empty())
	{
		tmp1.push(s.top());
		s.pop();
	}

	first = tmp1.top();
	tmp1.pop();

	tmp2.push(last);
	while (!tmp1.empty())
	{
		tmp2.push(tmp1.top());
		tmp1.pop();
	}
	tmp2.push(first);

	s = tmp2;
}

int main()
{
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);

	input();
	print();
	replace();
	print();

	system("pause");
	return 0;
}