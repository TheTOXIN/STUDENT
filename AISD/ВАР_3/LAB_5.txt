//#include "stdafx.h" разкоменть если что подйет не так
#include <iostream>
#include <string>
#include <math.h>
#include <locale.h>
#include <windows.h>
#include <time.h>

using namespace std;

int arr[1000];//массив с которым мы будем работать
int len = 0;//длина массива

void showMenu()//функция для вывода меню
{
	cout << "===Выберете пункт===" << endl;
	cout << "1.Заполнить массив" << endl;
	cout << "2.Создать массив" << endl;
	cout << "3.Вывести массив" << endl;
	cout << "4.Поиск минимального элемента(Транспозиция)" << endl;
	cout << "5.Поиск минимального элемента(Перенос в начало)" << endl;
	cout << "6.Выйти" << endl;
}

void inputArr()//функция для ввода массива
{
	cout << "Введите размер: ";
	cin >> len;//вводим размер

	for (int i = 0; i < len; i++)//через цикл вводим элементы в массив
	{
		cout << "Введите " << i << " элемент: ";
		cin >> arr[i];
	}
}

void outputArr()//функция для вывода массива
{
	cout << "Ваш массив: " << endl;
	for (int i = 0; i < len; i++)//проходимся через цикл
	{
		cout << arr[i] << " ";//выводим каждый элемент массива
	}
	cout << endl;
	system("pause");
}

void randomArr()//функция для случайного заполнения массива
{
	cout << "Введите размер: ";
	cin >> len;//вводим размер

	for (int i = 0; i < len; i++)//проходимся циклом по массиву
	{
		arr[i] = rand() % 100;//каждому элементу присваиваем случайную цифру до 100
	}
	outputArr();
}

int search()//функция поиска элемента, возращает номер позиции элемента в массивк
{
	double max = log(arr[0]);//делаем переменую для хранения максимального элемента от логарифма
	for (int i = 0; i < len; i++)//проходимся по массиву
	{
		if (log(arr[i]) > max)//если мы нашли в массиве элемент больше чем наш максимальный
		{
			max = log(arr[i]);//говорим что теперь у нас новый максимальный элемент
		}
	}

	cout << "Максимальный элемент от log() = " << max << endl;

	bool isFind = false;//false = элемент НЕ найден, true = элемент найден

	for (int i = 0; i < len; i++)//проходимся по циклу
	{
		if (log(arr[i]) == max)//если мы нашли нужный элемент (в нашем случае это максимальный log())
		{
			cout << "Элемент " << arr[i] << " на позиции - " << i << " log() = " << log(arr[i]) <<endl;//выводим элемент
			isFind = true;//говорим что он найден
			return i;//возращаем номер позиции
		}
	}

	if (!isFind)//если мы не нашли элемент
	{
		cout << "Элемент не найден!" << endl;//сообщаем об этом
	}
	system("pause");
}

void transposition()//функция для поиска с транопизицией
{
	int pos = search();//вызваем функцию поиска и полчаем номер позиции найденого элемента

	if (pos == 0)//проверяем не стоит ли элемент в начале
		return;//выходим из функции
	//перемещаем элемент на 1 позицию вперёд
	int tmp = arr[pos - 1];
	arr[pos - 1] = arr[pos];
	arr[pos] = tmp;

	system("pause");
}

void moveInStart()//функция для поиска с перемещением элемента в начало массива
{
	int pos = search();//получаем индекс элемента который ищем

	if (pos == 0)//проверяем не находится ли элемент в начале
		return;

	int elm = arr[pos];//создаем временную переменную

	for (int i = pos - 1; i > 0; i--)//сдвигаем все элементы
	{
		arr[i + 1] = arr[i];
	}

	arr[0] = elm;//ставим найденый в начало
	system("pause");
}

int main()
{
	srand(time(NULL));

	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);
	//логика работы меню
	int c = 0;
	while (c != 6)
	{
		showMenu();
		cin >> c;
		switch (c)
		{
		case 1: inputArr(); break;
		case 2: randomArr(); break;
		case 3: outputArr(); break;
		case 4: transposition();  break;
		case 5: moveInStart(); break;
		default: "Попробуйте ещё раз...";
		}
		system("cls");
	}

	system("pause");
	return 0;
}
