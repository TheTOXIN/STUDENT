#include <iostream>
#include <string>
#include <windows.h>

using namespace std;

bool check(string str, string text)//функция для проврки содержания текста на строку
{
	//алгоритм функции такой же алгортим замены текста, кроме....
	for (int i = 0; i < text.length(); i++)
	{
		if (text[i] == str[0])
		{
			for (int j = 0; j < str.length(); j++)
			{
				if (text[i + j] == str[j])
				{
					if (j == str.length() - 1)
						return true;//если подпроврека долшла до конца строки то возращем тру
				}
				else
				{
					break; //если вдргу подпроверка не совпала то выходим из цикла
				}
			}
		}
	}
	return false;//во всех остальных случаях возращаем false
}

int main()
{
	setlocale(0, "RUS");
	int count = 0;

	string text = "";//текст
	string str1 = "";//то что заменяется
	string str2 = "";//сама замена

	cout << "Введите текст :" << endl;
	cin >> text;
	cout << "Введите часть текста-> ";
	cin >> str1;
	cout << "Введите троку для замены-> ";
	cin >> str2;

	if (check(str1, text))//вызываем функцию для проверки есть ли что заменять в тексте
	{
		cout << "ЗАМЕНА ТЕКСТА = " << str1 << "->" << str2 << endl;
		string res = "";//сюда записываем результат

		for (int i = 0; i < text.length(); i++)//пробегаемся по тектса
		{
			if (text[i] == str1[0])//если в тексте появился символ схожий с 1 символом строки
			{
				//начинаем подпроверку на то что это можеть быть наша строка
				for (int j = 0; j < str1.length(); j++)//пробегаемся с места нахождения символа до рамзера строки которую ищем
				{
					if (text[i + j] == str1[j])//если все совпадает
					{
						if (j == str1.length() - 1)//и мы дошли до конца
						{
							res += str2;//записываем в реузьтат то что заменяем
							count++;
							break;
						}
					}
					else // инчае пропускаем и ищем дальше
					{
						break;
					}
				}
			}
			else//если символ текста не равен первому символу строки
			{
				res += text[i];//записываем в результат
			}
		}
		text = res;
	}
	else
	{
		cout << "Нету строк для замены" << endl;
	}

	cout << text << endl;
	cout << "COUNT = " << count << endl;
	system("pause");
}

